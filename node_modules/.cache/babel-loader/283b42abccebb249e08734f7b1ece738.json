{"ast":null,"code":"var _jsxFileName = \"/home/julia/Trybe/projects_Trybe/sd-06-project-recipes-app/src/pages/FoodRecipesPage.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { requestFoods, requestCategoryFood, filterCategoryFood } from '../services/requestsAPI';\nimport FoodCard from '../components/FoodCard';\nimport RecipesContext from '../context/RecipesContext';\n\nfunction FoodRecipesPage() {\n  const [apiResult, setApiResult] = useState([]);\n  const [foodCategory, setFoodCategory] = useState([]);\n  const [curCategory, setCurcategory] = useState([]);\n  const {\n    hiddenInput\n  } = useContext(RecipesContext);\n  const zero = 0;\n  const cinco = 5;\n  const doze = 12;\n  useEffect(() => {\n    async function fetchData() {\n      const foodResults = await requestFoods();\n      setApiResult(foodResults);\n      const categoryResults = await requestCategoryFood();\n      setFoodCategory(categoryResults);\n    }\n\n    fetchData();\n  }, []);\n\n  async function handleClick(e) {\n    const category = e.target.value;\n\n    if (category === curCategory) {\n      const response = await requestFoods();\n      setCurcategory(category);\n      setApiResult(response);\n    } else {\n      const filteredCategory = await filterCategoryFood(category);\n      setCurcategory(category);\n      setApiResult(filteredCategory);\n    }\n  }\n\n  async function handleClickAll() {\n    const response = await requestFoods();\n    setApiResult(response);\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    pageName: \"Comidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"All-category-filter\",\n    type: \"button\",\n    value: \"all\",\n    onClick: () => handleClickAll(),\n    className: \"category-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"All\"), foodCategory.meals && foodCategory.meals.slice(zero, cinco).map(element => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => handleClick(e),\n    value: element.strCategory,\n    type: \"button\",\n    \"data-testid\": `${element.strCategory}-category-filter`,\n    key: element,\n    className: \"category-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, element.strCategory))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"foodCard-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, !hiddenInput ? apiResult.meals && apiResult.meals.slice(zero, doze).map((element, idx) => /*#__PURE__*/React.createElement(FoodCard, {\n    element: element,\n    idx: idx,\n    key: element.idMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })) : null), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default FoodRecipesPage;","map":{"version":3,"sources":["/home/julia/Trybe/projects_Trybe/sd-06-project-recipes-app/src/pages/FoodRecipesPage.js"],"names":["React","useEffect","useState","useContext","Header","Footer","requestFoods","requestCategoryFood","filterCategoryFood","FoodCard","RecipesContext","FoodRecipesPage","apiResult","setApiResult","foodCategory","setFoodCategory","curCategory","setCurcategory","hiddenInput","zero","cinco","doze","fetchData","foodResults","categoryResults","handleClick","e","category","target","value","response","filteredCategory","handleClickAll","meals","slice","map","element","strCategory","idx","idMeal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SACEC,YADF,EACgBC,mBADhB,EACqCC,kBADrC,QAEO,yBAFP;AAGA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,cAAP,MAA2B,2BAA3B;;AAEA,SAASC,eAAT,GAA2B;AACzB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM;AAAEgB,IAAAA;AAAF,MAAkBf,UAAU,CAACO,cAAD,CAAlC;AACA,QAAMS,IAAI,GAAG,CAAb;AACA,QAAMC,KAAK,GAAG,CAAd;AACA,QAAMC,IAAI,GAAG,EAAb;AAEApB,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeqB,SAAf,GAA2B;AACzB,YAAMC,WAAW,GAAG,MAAMjB,YAAY,EAAtC;AACAO,MAAAA,YAAY,CAACU,WAAD,CAAZ;AACA,YAAMC,eAAe,GAAG,MAAMjB,mBAAmB,EAAjD;AACAQ,MAAAA,eAAe,CAACS,eAAD,CAAf;AACD;;AACDF,IAAAA,SAAS;AACV,GARQ,EAQN,EARM,CAAT;;AAUA,iBAAeG,WAAf,CAA2BC,CAA3B,EAA8B;AAC5B,UAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAF,CAASC,KAA1B;;AACA,QAAIF,QAAQ,KAAKX,WAAjB,EAA8B;AAC5B,YAAMc,QAAQ,GAAG,MAAMxB,YAAY,EAAnC;AACAW,MAAAA,cAAc,CAACU,QAAD,CAAd;AACAd,MAAAA,YAAY,CAACiB,QAAD,CAAZ;AACD,KAJD,MAIO;AACL,YAAMC,gBAAgB,GAAG,MAAMvB,kBAAkB,CAACmB,QAAD,CAAjD;AACAV,MAAAA,cAAc,CAACU,QAAD,CAAd;AACAd,MAAAA,YAAY,CAACkB,gBAAD,CAAZ;AACD;AACF;;AAED,iBAAeC,cAAf,GAAgC;AAC9B,UAAMF,QAAQ,GAAG,MAAMxB,YAAY,EAAnC;AACAO,IAAAA,YAAY,CAACiB,QAAD,CAAZ;AACA,WAAO,IAAP;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAIE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAY,qBADd;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,KAAK,EAAC,KAHR;AAIE,IAAA,OAAO,EAAG,MAAME,cAAc,EAJhC;AAKE,IAAA,SAAS,EAAC,iBALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAUGlB,YAAY,CAACmB,KAAb,IAAsBnB,YAAY,CAACmB,KAAb,CAAmBC,KAAnB,CAAyBf,IAAzB,EAA+BC,KAA/B,EAAsCe,GAAtC,CAA2CC,OAAD,iBAC/D;AACE,IAAA,OAAO,EAAIV,CAAD,IAAOD,WAAW,CAACC,CAAD,CAD9B;AAEE,IAAA,KAAK,EAAGU,OAAO,CAACC,WAFlB;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,mBAAe,GAAED,OAAO,CAACC,WAAY,kBAJvC;AAKE,IAAA,GAAG,EAAGD,OALR;AAME,IAAA,SAAS,EAAC,iBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGA,OAAO,CAACC,WARX,CADqB,CAVzB,CAJF,eA4BE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,CAACnB,WAAD,GAAeN,SAAS,CAACqB,KAAV,IAAmBrB,SAAS,CAACqB,KAAV,CACjCC,KADiC,CAC3Bf,IAD2B,EACrBE,IADqB,EACfc,GADe,CACX,CAACC,OAAD,EAAUE,GAAV,kBACrB,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAGF,OAApB;AAA8B,IAAA,GAAG,EAAGE,GAApC;AAA0C,IAAA,GAAG,EAAGF,OAAO,CAACG,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFgC,CAAlC,GAE0E,IAH9E,CA5BF,eAkCE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCF,CADF;AAsCD;;AAED,eAAe5B,eAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport {\n  requestFoods, requestCategoryFood, filterCategoryFood,\n} from '../services/requestsAPI';\nimport FoodCard from '../components/FoodCard';\nimport RecipesContext from '../context/RecipesContext';\n\nfunction FoodRecipesPage() {\n  const [apiResult, setApiResult] = useState([]);\n  const [foodCategory, setFoodCategory] = useState([]);\n  const [curCategory, setCurcategory] = useState([]);\n  const { hiddenInput } = useContext(RecipesContext);\n  const zero = 0;\n  const cinco = 5;\n  const doze = 12;\n\n  useEffect(() => {\n    async function fetchData() {\n      const foodResults = await requestFoods();\n      setApiResult(foodResults);\n      const categoryResults = await requestCategoryFood();\n      setFoodCategory(categoryResults);\n    }\n    fetchData();\n  }, []);\n\n  async function handleClick(e) {\n    const category = e.target.value;\n    if (category === curCategory) {\n      const response = await requestFoods();\n      setCurcategory(category);\n      setApiResult(response);\n    } else {\n      const filteredCategory = await filterCategoryFood(category);\n      setCurcategory(category);\n      setApiResult(filteredCategory);\n    }\n  }\n\n  async function handleClickAll() {\n    const response = await requestFoods();\n    setApiResult(response);\n    return null;\n  }\n\n  return (\n    <div>\n      <Header pageName=\"Comidas\" />\n      <div />\n\n      <div className=\"category-buttons\">\n        <button\n          data-testid=\"All-category-filter\"\n          type=\"button\"\n          value=\"all\"\n          onClick={ () => handleClickAll() }\n          className=\"category-button\"\n        >\n          All\n        </button>\n        {foodCategory.meals && foodCategory.meals.slice(zero, cinco).map((element) => (\n          <button\n            onClick={ (e) => handleClick(e) }\n            value={ element.strCategory }\n            type=\"button\"\n            data-testid={ `${element.strCategory}-category-filter` }\n            key={ element }\n            className=\"category-button\"\n          >\n            {element.strCategory}\n          </button>\n        ))}\n\n      </div>\n      <div className=\"foodCard-div\">\n        { !hiddenInput ? apiResult.meals && apiResult.meals\n          .slice(zero, doze).map((element, idx) => (\n            <FoodCard element={ element } idx={ idx } key={ element.idMeal } />)) : null }\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default FoodRecipesPage;\n"]},"metadata":{},"sourceType":"module"}